import{h as w}from"./confirm-fPFwdZqr.js";import{D as C,h as c,i as D,H as U,r as l,o as Y,c as B,b as m,a as e,w as i,e as f}from"./index-C_vwRkRb.js";import{d as H}from"./notification-D2_ThX_3.js";function M(r){return C({url:"/loginLog/list",method:"get",params:r})}function P(r){return C({url:"/loginLog/{ids}",method:"delete",params:r})}const q={class:"content-box"},A={class:"search-box"},E={class:"block"},I={class:"operation-box"},j={class:"pagination-box"},K={__name:"index",setup(r){const b=c([]),d=c([]),t=D({pageNum:1,pageSize:10,ip:void 0,location:void 0,startTime:void 0,endTime:void 0}),v=c(0);function V(){t.ip=void 0,t.location=void 0,t.startTime=void 0,t.endTime=void 0,d.value=[]}async function u(){if(d.value.length==2)for(let n=0;n<d.value.length;n++)t.startTime=d.value[0],t.endTime=d.value[1];const o=await M(t);o.code===200&&(b.value=o.data,v.value=Number(o.total))}const h=c([]);function k(o){h.value=o}function x(){w(async()=>{const o=h.value.map(p=>p.id),n=await P(o);H(n,()=>{u()})})}function z(o){t.pageNum=1,u()}function S(o){u()}return U(()=>{u()}),(o,n)=>{const p=l("el-input"),g=l("el-form-item"),L=l("el-date-picker"),N=l("el-form"),_=l("el-button"),s=l("el-table-column"),y=l("el-table"),T=l("el-pagination");return Y(),B("div",q,[m("div",A,[e(N,{inline:""},{default:i(()=>[e(g,{label:"ip地址"},{default:i(()=>[e(p,{modelValue:t.ip,"onUpdate:modelValue":n[0]||(n[0]=a=>t.ip=a),placeholder:"请输入ip地址",clearable:""},null,8,["modelValue"])]),_:1}),e(g,{label:"位置"},{default:i(()=>[e(p,{modelValue:t.location,"onUpdate:modelValue":n[1]||(n[1]=a=>t.location=a),placeholder:"请输入位置"},null,8,["modelValue"])]),_:1}),e(g,{label:"调度时间"},{default:i(()=>[m("div",E,[e(L,{modelValue:d.value,"onUpdate:modelValue":n[2]||(n[2]=a=>d.value=a),type:"datetimerange","start-placeholder":"Start date","end-placeholder":"End date","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])])]),_:1})]),_:1})]),m("div",I,[e(_,{icon:"Search",onClick:u},{default:i(()=>[f("查询")]),_:1}),e(_,{type:"info",icon:"refresh",onClick:V},{default:i(()=>[f("重置")]),_:1}),e(_,{type:"danger",icon:"Delete",onClick:x},{default:i(()=>[f("删除")]),_:1})]),e(y,{data:b.value,onSelectionChange:k},{default:i(()=>[e(s,{type:"selection",width:"55"}),e(s,{type:"index",label:"序号",width:"80"}),e(s,{prop:"ip",label:"ip地址"}),e(s,{prop:"location",label:"地理位置"}),e(s,{prop:"loginUser",label:"登录用户"}),e(s,{prop:"loginTime",label:"登录时间"}),e(s,{prop:"token",label:"token"})]),_:1},8,["data"]),m("div",j,[e(T,{"current-page":t.pageNum,"onUpdate:currentPage":n[3]||(n[3]=a=>t.pageNum=a),"page-size":t.pageSize,"onUpdate:pageSize":n[4]||(n[4]=a=>t.pageSize=a),"page-sizes":[10,20,50,100],layout:"prev, pager, next,jumper,->, sizes,total",total:v.value,background:"",onSizeChange:z,onCurrentChange:S},null,8,["current-page","page-size","total"])])])}}};export{K as default};
